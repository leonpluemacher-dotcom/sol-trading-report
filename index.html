<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOL/USD Daily Trading Report</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
            background: linear-gradient(180deg, #050608 0%, #0A0B0D 100%);
            color: #FFFFFF;
            padding: 24px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: linear-gradient(135deg, rgba(208, 16, 36, 0.15) 0%, rgba(140, 143, 150, 0.08) 100%);
            border: 1px solid rgba(208, 16, 36, 0.3);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 32px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #D01024 0%, #8C8F96 100%);
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header-title {
            font-size: 28px;
            font-weight: 700;
            color: #FFFFFF;
            margin-bottom: 20px;
            letter-spacing: -0.5px;
        }

        .header-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 16px;
        }

        .stat-item {
            background: rgba(5, 6, 8, 0.4);
            border: 1px solid rgba(140, 143, 150, 0.2);
            border-radius: 10px;
            padding: 14px;
        }

        .stat-label {
            font-size: 12px;
            color: #A0A3AA;
            margin-bottom: 6px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: #FFFFFF;
        }

        .stat-value.negative {
            color: #D01024;
        }

        .stat-value.positive {
            color: #10b981;
        }

        .refresh-btn {
            margin-top: 16px;
            padding: 10px 20px;
            background: linear-gradient(135deg, #D01024 0%, #C00018 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 12px;
            transition: opacity 0.3s;
        }

        .refresh-btn:hover {
            opacity: 0.9;
        }

        .refresh-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .loading {
            display: inline-block;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .risk-alert {
            background: linear-gradient(135deg, rgba(208, 16, 36, 0.2) 0%, rgba(208, 16, 36, 0.08) 100%);
            border-left: 4px solid #D01024;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 28px;
        }

        .alert-title {
            font-size: 14px;
            font-weight: 700;
            color: #D01024;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .alert-content {
            font-size: 13px;
            color: #D5D7DB;
            line-height: 1.6;
        }

        .section {
            background: rgba(140, 143, 150, 0.04);
            border: 1px solid rgba(140, 143, 150, 0.15);
            border-radius: 14px;
            padding: 24px;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 700;
            color: #FFFFFF;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .levels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 14px;
            margin-bottom: 16px;
        }

        .level-box {
            background: linear-gradient(135deg, rgba(5, 6, 8, 0.6) 0%, rgba(10, 11, 13, 0.4) 100%);
            border: 1px solid rgba(140, 143, 150, 0.2);
            border-radius: 10px;
            padding: 16px;
        }

        .level-label {
            font-size: 12px;
            color: #A0A3AA;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .level-type {
            font-size: 11px;
            color: #8C8F96;
            margin-bottom: 6px;
        }

        .level-price {
            font-size: 20px;
            font-weight: 700;
            color: #FFFFFF;
            font-family: 'Courier New', monospace;
        }

        .level-price.support {
            color: #10b981;
        }

        .level-price.resistance {
            color: #D01024;
        }

        .news-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .news-item {
            background: rgba(208, 16, 36, 0.08);
            border-left: 3px solid #D01024;
            border-radius: 8px;
            padding: 14px;
        }

        .news-headline {
            font-size: 13px;
            font-weight: 700;
            color: #D01024;
            margin-bottom: 6px;
        }

        .news-desc {
            font-size: 12px;
            color: #D5D7DB;
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .news-impact {
            font-size: 11px;
            color: #8C8F96;
            font-weight: 600;
        }

        .bias-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
        }

        .bias-box {
            background: rgba(140, 143, 150, 0.06);
            border: 1px solid rgba(140, 143, 150, 0.2);
            border-radius: 10px;
            padding: 16px;
        }

        .bias-badge {
            display: inline-block;
            background: linear-gradient(135deg, #D01024 0%, #C00018 100%);
            color: #FFFFFF;
            padding: 6px 14px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .bias-badge.neutral {
            background: linear-gradient(135deg, #8C8F96 0%, #A0A3AA 100%);
        }

        .indicator-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .indicator-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(140, 143, 150, 0.1);
        }

        .indicator-item:last-child {
            border-bottom: none;
        }

        .indicator-label {
            color: #A0A3AA;
            font-weight: 500;
        }

        .indicator-value {
            color: #FFFFFF;
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }

        .indicator-signal {
            background: rgba(208, 16, 36, 0.2);
            color: #D01024;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 700;
        }

        .setups-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 14px;
        }

        .setup {
            background: rgba(5, 6, 8, 0.5);
            border-left: 4px solid #D01024;
            border-radius: 10px;
            padding: 18px;
        }

        .setup.long {
            border-left-color: #10b981;
        }

        .setup-title {
            font-size: 13px;
            font-weight: 700;
            color: #FFFFFF;
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .setup-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            font-size: 11px;
        }

        .setup-detail {
            background: rgba(140, 143, 150, 0.06);
            padding: 10px;
            border-radius: 6px;
        }

        .setup-detail-label {
            color: #A0A3AA;
            margin-bottom: 4px;
            font-weight: 600;
            font-size: 10px;
        }

        .setup-detail-value {
            color: #FFFFFF;
            font-weight: 700;
            font-family: 'Courier New', monospace;
        }

        .summary {
            background: linear-gradient(135deg, #D01024 0%, #C00018 100%);
            border-radius: 14px;
            padding: 28px;
            text-align: center;
            margin-top: 28px;
        }

        .summary-title {
            font-size: 20px;
            font-weight: 700;
            color: #FFFFFF;
            margin-bottom: 20px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .summary-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 14px;
            border-radius: 8px;
        }

        .summary-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 6px;
            font-weight: 600;
        }

        .summary-value {
            font-size: 16px;
            font-weight: 700;
            color: #FFFFFF;
        }

        .summary-note {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 16px;
        }

        .footer {
            text-align: center;
            margin-top: 32px;
            padding: 20px;
            color: #8C8F96;
            font-size: 11px;
            border-top: 1px solid rgba(140, 143, 150, 0.2);
        }

        .timestamp {
            font-size: 11px;
            color: #8C8F96;
            margin-top: 8px;
        }

        @media (max-width: 768px) {
            .header {
                padding: 20px;
            }
            .header-title {
                font-size: 20px;
            }
            .header-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            .section {
                padding: 16px;
            }
            .levels-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <div class="header-content">
                <div class="header-title">üí∞ SOL/USD Daily Trading Report</div>
                <div class="header-stats">
                    <div class="stat-item">
                        <div class="stat-label">Kurs</div>
                        <div class="stat-value" id="currentPrice">$--</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">24h Change</div>
                        <div class="stat-value" id="priceChange">--%</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Volatilit√§t</div>
                        <div class="stat-value" id="volatility">--</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Risiko-Level</div>
                        <div class="stat-value" id="riskLevel">--</div>
                    </div>
                </div>
                <button class="refresh-btn" id="refreshBtn" onclick="fetchLiveData()">üîÑ Daten aktualisieren</button>
                <div class="timestamp" id="timestamp"></div>
            </div>
        </div>

        <!-- MACRO OVERVIEW -->
        <div class="section">
            <div class="section-title">üåç Macro Overview ‚Äì Bitcoin, Nasdaq & S&P 500</div>
            <div style="background: rgba(140, 143, 150, 0.08); border-left: 3px solid #8C8F96; padding: 14px; border-radius: 8px; margin-bottom: 18px; font-size: 12px; line-height: 1.7; color: #D5D7DB;">
                <strong style="color: #FFFFFF;">Aktuelle Lage:</strong> Crypto-M√§rkte in Risk-Off Modus. Bitcoin unter Druck, Solana folgt dem Trend. VIX erh√∂ht. <strong style="color: #FFFFFF;">Erwartung f√ºr heute:</strong> Rangeboundetes bis bearisches Umfeld mit volatilen Spikes bei Macro-News.
            </div>
            <div class="levels-grid">
                <div class="level-box">
                    <div class="level-label">üí∞ Bitcoin (BTC)</div>
                    <div class="level-type">AKTUELLER KURS</div>
                    <div class="level-price" id="btcPrice">$--</div>
                    <div style="font-size: 11px; color: #8C8F96; margin-top: 10px; line-height: 1.5;" id="btcChange">--</div>
                </div>
                <div class="level-box">
                    <div class="level-label">üìà Solana (SOL)</div>
                    <div class="level-type">ECHTZEIT-KURS</div>
                    <div class="level-price" id="solPrice">$--</div>
                    <div style="font-size: 11px; color: #8C8F96; margin-top: 10px; line-height: 1.5;" id="solChange">--</div>
                </div>
                <div class="level-box">
                    <div class="level-label">üìä 24h Volumen</div>
                    <div class="level-type">SOL TRADING VOLUME</div>
                    <div class="level-price" id="solVolume">$--</div>
                    <div style="font-size: 11px; color: #8C8F96; margin-top: 10px; line-height: 1.5;">Aktivit√§t im Markt</div>
                </div>
                <div class="level-box">
                    <div class="level-label">‚ö†Ô∏è Macro Sentiment</div>
                    <div class="level-type">RISK LEVEL</div>
                    <div class="level-price" id="macroSentiment">HOCH</div>
                    <div style="font-size: 11px; color: #8C8F96; margin-top: 10px; line-height: 1.5;">Volatilit√§t erwartet</div>
                </div>
            </div>
        </div>

        <!-- RISK ALERT -->
        <div class="risk-alert">
            <div class="alert-title">üö® LIVE DATEN INFO</div>
            <div class="alert-content">Dieser Report wird mit Echtzeit-Daten von CoinGecko aktualisiert. Klicke auf "Daten aktualisieren" f√ºr die neuesten Preise. Die Daten aktualisieren sich automatisch jede Stunde.</div>
        </div>

        <!-- TRADING RANGE -->
        <div class="section">
            <div class="section-title">üìä Heutiges Handelsrange (CET)</div>
            <div class="levels-grid">
                <div class="level-box">
                    <div class="level-label">24h High (Heute)</div>
                    <div class="level-type">RESISTANCE</div>
                    <div class="level-price resistance" id="dayHigh">$--</div>
                </div>
                <div class="level-box">
                    <div class="level-label">Aktueller Kurs</div>
                    <div class="level-type">PIVOT</div>
                    <div class="level-price" id="currentPivot">$--</div>
                </div>
                <div class="level-box">
                    <div class="level-label">24h Low (Heute)</div>
                    <div class="level-type">SUPPORT</div>
                    <div class="level-price support" id="dayLow">$--</div>
                </div>
                <div class="level-box">
                    <div class="level-label">Range Breite</div>
                    <div class="level-type">VOLATILIT√ÑT</div>
                    <div class="level-price" id="rangeWidth">$--</div>
                </div>
            </div>
        </div>

        <!-- SUPPORT & RESISTANCE ZONES -->
        <div class="section">
            <div class="section-title">üéØ Kritische Support & Resistance Zonen</div>
            <div class="levels-grid">
                <div class="level-box">
                    <div class="level-label">üî¥ RESISTANCE (Short)</div>
                    <div class="level-type">PRIM√ÑR</div>
                    <div class="level-price resistance" id="res1">$--</div>
                </div>
                <div class="level-box">
                    <div class="level-label">üü¢ SUPPORT (Long)</div>
                    <div class="level-type">PRIM√ÑR</div>
                    <div class="level-price support" id="sup1">$--</div>
                </div>
                <div class="level-box">
                    <div class="level-label">üü° PIVOT (Range)</div>
                    <div class="level-type">NEUTRAL</div>
                    <div class="level-price" id="pivot">$--</div>
                </div>
                <div class="level-box">
                    <div class="level-label">SEKUND√ÑR</div>
                    <div class="level-type">BREAKOUT TARGETS</div>
                    <div class="level-price resistance" id="targets">$--</div>
                </div>
            </div>
        </div>

        <!-- DAILY BIAS & INDICATORS -->
        <div class="section">
            <div class="section-title">üìà Daily Bias & Technische Indikatoren</div>
            <div class="bias-container">
                <div class="bias-box">
                    <div class="bias-badge" id="biasBadge">üî¥ BEARISH (kurzfristig)</div>
                    <div class="indicator-list">
                        <div class="indicator-item">
                            <span class="indicator-label">Trend</span>
                            <span class="indicator-signal" id="trend">BEARISH</span>
                        </div>
                        <div class="indicator-item">
                            <span class="indicator-label">Market Cap</span>
                            <span class="indicator-value" id="marketCap">$--</span>
                        </div>
                        <div class="indicator-item">
                            <span class="indicator-label">24h Volatilit√§t</span>
                            <span class="indicator-value" id="volatilityHigh">HOCH</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SUMMARY -->
        <div class="summary">
            <div class="summary-title">üìã Trading Summary f√ºr heute (CET)</div>
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-label">Setup-Qualit√§t</div>
                    <div class="summary-value" id="setupQuality">Mittel ‚ö†Ô∏è</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Best Window</div>
                    <div class="summary-value">14:00‚Äì16:00 CET</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">Profit Target</div>
                    <div class="summary-value">+0.5%‚Äì1.5%</div>
                </div>
            </div>
            <div class="summary-note">
                üéØ <strong>Strategie:</strong> Conservative Approach ‚Äì Focus auf Support-Bounces oder Resistance-Rejections. Echtzeit-Daten beachten!
            </div>
        </div>

        <!-- FOOTER -->
        <div class="footer">
            <p id="reportDate">SOL/USD Daily Trading Report</p>
            <p style="margin-top: 8px;">‚ö†Ô∏è Disclaimer: Keine Finanzberatung. Trading hat Risiken. Stop-Loss ist Pflicht.</p>
        </div>
    </div>

    <script>
        // Auto-refresh every 60 minutes
        setInterval(fetchLiveData, 3600000);

        // Initial load
        fetchLiveData();

        async function fetchLiveData() {
            const btn = document.getElementById('refreshBtn');
            btn.disabled = true;
            btn.textContent = '‚è≥ Laden...';

            try {
                // Fetch SOL data from CoinGecko
                const solResponse = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd&include_market_cap=true&include_24hr_vol=true&include_24hr_change=true&include_high_low_24h=true');
                const solData = await solResponse.json();
                
                // Fetch BTC data
                const btcResponse = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true');
                const btcData = await btcResponse.json();

                // Extract SOL data
                const sol = solData.solana;
                const btc = btcData.bitcoin;
                
                const currentPrice = sol.usd.toFixed(2);
                const change24h = sol.usd_24h_change.toFixed(2);
                const high24h = sol.usd_high_24h.toFixed(2);
                const low24h = sol.usd_low_24h.toFixed(2);
                const volume24h = (sol.usd_24h_vol / 1000000).toFixed(0);
                const marketCap = (sol.usd_market_cap / 1000000000).toFixed(2);
                const btcPrice = btc.usd.toFixed(2);
                const btcChange = btc.usd_24h_change.toFixed(2);

                // Calculate levels based on current price
                const price = parseFloat(currentPrice);
                const rangeFive = ((price * 0.02).toFixed(2)); // 2% range
                const resistanceLevel = (price * 1.025).toFixed(2);
                const supportLevel = (price * 0.97).toFixed(2);
                const pivotLevel = ((parseFloat(high24h) + parseFloat(low24h) + price) / 3).toFixed(2);
                const rangeWidth = (parseFloat(high24h) - parseFloat(low24h)).toFixed(2);

                // Determine sentiment based on price change
                const isPositive = change24h > 0;
                const isBearish = change24h < -2;
                const biasText = isBearish ? 'üî¥ BEARISH (kurzfristig)' : isPositive ? 'üü¢ BULLISH (kurzfristig)' : 'üü° NEUTRAL (kurzfristig)';

                // Update DOM
                document.getElementById('currentPrice').textContent = `$${currentPrice}`;
                document.getElementById('currentPrice').className = isPositive ? 'stat-value positive' : 'stat-value negative';
                
                document.getElementById('priceChange').textContent = `${change24h}%`;
                document.getElementById('priceChange').className = isPositive ? 'stat-value positive' : 'stat-value negative';
                
                document.getElementById('volatility').textContent = Math.abs(change24h) > 5 ? 'HOCH' : 'NORMAL';
                document.getElementById('volatility').className = Math.abs(change24h) > 5 ? 'stat-value negative' : 'stat-value';
                
                document.getElementById('riskLevel').textContent = Math.abs(change24h) > 5 ? 'HIGH' : 'MEDIUM';
                document.getElementById('riskLevel').className = Math.abs(change24h) > 5 ? 'stat-value negative' : 'stat-value';

                document.getElementById('btcPrice').textContent = `$${btcPrice}`;
                document.getElementById('btcChange').textContent = `24h: ${btcChange}%`;

                document.getElementById('solPrice').textContent = `$${currentPrice}`;
                document.getElementById('solChange').textContent = `24h: ${change24h}% | Vol: $${volume24h}M`;
                
                document.getElementById('solVolume').textContent = `$${volume24h}M`;

                document.getElementById('dayHigh').textContent = `$${high24h}`;
                document.getElementById('dayLow').textContent = `$${low24h}`;
                document.getElementById('currentPivot').textContent = `$${currentPrice}`;
                document.getElementById('rangeWidth').textContent = `$${rangeWidth}`;

                document.getElementById('res1').textContent = `$${resistanceLevel}`;
                document.getElementById('sup1').textContent = `$${supportLevel}`;
                document.getElementById('pivot').textContent = `$${pivotLevel}`;
                document.getElementById('targets').textContent = `$${(price * 1.1).toFixed(2)} / $${(price * 0.9).toFixed(2)}`;

                document.getElementById('biasBadge').textContent = biasText;
                document.getElementById('trend').textContent = isBearish ? 'BEARISH' : isPositive ? 'BULLISH' : 'NEUTRAL';

                document.getElementById('marketCap').textContent = `$${marketCap}B`;

                document.getElementById('setupQuality').textContent = Math.abs(change24h) < 3 ? 'Gut ‚úÖ' : 'Mittel ‚ö†Ô∏è';

                // Update timestamp
                const now = new Date();
                const timeStr = now.toLocaleString('de-DE', { 
                    hour: '2-digit', 
                    minute: '2-digit', 
                    second: '2-digit',
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });
                document.getElementById('timestamp').textContent = `Aktualisiert: ${timeStr} CET`;
                document.getElementById('reportDate').textContent = `SOL/USD Daily Trading Report | ${timeStr}`;

            } catch (error) {
                console.error('Fehler beim Laden der Daten:', error);
                alert('Fehler beim Laden der Daten. Bitte √ºberpr√ºfe deine Internetverbindung und versuche es erneut.');
            } finally {
                btn.disabled = false;
                btn.textContent = 'üîÑ Daten aktualisieren';
            }
        }
    </script>
</body>
</html>
